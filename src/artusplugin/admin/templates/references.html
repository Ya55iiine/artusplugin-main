<!--!  Copyright (C) 2024 Artus
  All rights reserved.
  Author: Michel Guillot <michel.guillot@meggitt.com>
-->
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:i18n="http://genshi.edgewall.org/i18n">
  <xi:include href="admin.html" />
  <head>
    <title>References</title>
  </head>

  <body>
    <h2>Manage Equipment References <span py:if="view == 'list'" class="trac-count">(${len(references)})</span></h2>

    <py:choose test="view">
      <form py:when="'detail'" class="mod" id="modref" method="post" action="">
        <fieldset>
          <legend>Modify Reference:</legend>
          <div class="field">
            <label>Parker MEGGITT ref:<br /><input type="text" name="artusref" class="trac-autofocus" value="$reference.artusref" /></label>
          </div>
          <div class="field">
            <label>Customer ref:<br /><input type="text" name="customerref" value="$reference.customerref" /></label>
          </div>
          <div class="buttons">
            <input type="submit" name="save" class="trac-disable-on-submit" value="${_('Save')}"/>
            <input type="submit" name="cancel" value="${_('Cancel')}" />
          </div>
        </fieldset>
      </form>

      <py:otherwise>
        <form class="addnew" id="addreference" method="post" action="">
          <fieldset>
            <legend>Add Equipment References:</legend>
            <div class="field">
              <label>Parker MEGGITT ref: <input type="text" name="artusref"/></label>
            </div>
            <div class="field">
              <label>Customer ref: <input type="text" name="customerref"/></label>
            </div>
            <div class="buttons">
              <input type="submit" name="add" class="trac-disable-on-submit" value="${_('Add')}"/>
            </div>
          </fieldset>
        </form>

        <py:choose>
          <form py:when="references" id="reference_table" method="post" action="">
            <table class="listing" id="reflist">
              <thead>
                <tr><th class="sel">&nbsp;</th>
                  <th>Parker MEGGITT ref</th><th>Customer ref</th><th>Default</th>
                </tr>
              </thead>
              <tbody>
                <tr py:for="ref in references">
                  <td class="sel"><input type="checkbox" name="sel" value="$ref.artusref" /></td>
                  <td class="artusref">
                    <a href="${panel_href(ref.artusref)}">$ref.artusref</a>
                  </td>
                  <td class="customerref">$ref.customerref</td>
                  <td class="default">
                    <input type="radio" name="default" value="$ref.artusref"
                           checked="${ref.default == 1 or None}" />
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="buttons">
              <input type="submit" name="apply" value="${_('Apply changes')}" />
              <input type="submit" name="remove" class="trac-disable-on-submit" value="${_('Remove selected items')}"/>
            </div>
            <p class="help">
              You can remove all items from this list to completely hide this
              field from the user interface.
            </p>
          </form>

          <p py:otherwise="" class="help">
            As long as you don't add any items to the list, this field
            will remain completely hidden from the user interface.
          </p>
        </py:choose>
      </py:otherwise>
    </py:choose>
  </body>

</html>
